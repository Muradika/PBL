<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Admin Dashboard - List User</title>
<style>
:root{
    --navy:#13385f;
    --orange:#ff7a00;
    --deep-orange:#ff4a00;
    --accent:#0b2b57;
    --light:#f8f9fb;
    --card-border:#d7dbe0;
    --danger:#ff2b2b;
    --btn-blue:#0f3e73;
}
html,body{height:100%;margin:0;font-family:Inter, "Helvetica Neue", Arial, sans-serif;background:#ffffff;color:#09314a}
  /* Header */
.header{
    background:linear-gradient(90deg,var(--navy) 0%, #183a63 55%);
    color:white;
    padding:26px 32px;
    display:flex;
    align-items:center;
    gap:22px;
}
.logo{
    width:86px;height:86px;border-radius:50%;
    background:linear-gradient(135deg,#fff 0%, rgba(255,255,255,0.6) 30%);
    display:flex;align-items:center;justify-content:center;
    box-shadow:0 2px 0 rgba(0,0,0,.08);
    flex-shrink:0;
}
.logo img {
    width:68px;
}
.brand{
    line-height:1;
}
.brand h1{margin:0;font-weight:700;font-size:20px}
.brand p{margin:2px 0 0;color:#ffd7a6;font-weight:600}
.admin-title{margin-left:auto;color:var(--orange);font-weight:700}
  /* Layout */
.container{display:flex;gap:28px;padding:28px}
.sidebar{width:160px;padding-top:24px}
.btn{
    display:block;text-align:center;padding:12px 18px;border-radius:10px;
    color:white;text-decoration:none;font-weight:700;margin-bottom:14px;
    box-shadow:inset 0 -3px rgba(0,0,0,.08);
}
.btn.add{background:var(--btn-blue)}
.btn.list{background:var(--orange)}
  /* Main area */
.main{flex:1}
.searchbar{display:flex;align-items:center;gap:8px;margin-bottom:18px}
.searchbox{
    flex:1;background:white;border:2px solid var(--card-border);
    padding:10px 14px;border-radius:18px;display:flex;align-items:center;gap:10px;
    box-shadow:0 2px 0 rgba(0,0,0,.04)
  }
  .searchbox input{border:0;outline:none;font-size:16px;flex:1}
  .filter{width:36px;height:36px;border-radius:8px;border:1px solid var(--card-border);display:flex;align-items:center;justify-content:center;background:white}
  /* Header row */
  .list-header{
    display:grid;grid-template-columns:80px 1fr 1fr 1fr 120px 120px;
    gap:10px;align-items:center;padding:10px;border-radius:12px;border:2px solid var(--card-border);
    background:white;margin-bottom:8px;font-weight:700;color:var(--accent);
  }
  /* Rows */
  .rows{display:flex;flex-direction:column;gap:12px;max-height:70vh;overflow:auto;padding-right:6px}
  .row{
    display:grid;grid-template-columns:80px 1fr 1fr 1fr 120px 120px;
    gap:10px;align-items:center;padding:12px;border-radius:14px;border:2px solid var(--card-border);
    background:white;
  }
  .avatar{width:56px;height:56px;border-radius:8px;background:#e9eef6;border:1px solid #d2dce9;display:flex;align-items:center;justify-content:center;color:var(--navy);font-weight:700}
  .name{color:var(--accent);font-weight:600}
  .idnum,.email,.role{color:#224a76;font-weight:600}
  .btn-remove{background:linear-gradient(180deg,var(--danger),#ff4c3c);padding:8px 14px;border-radius:10px;color:white;border:0;cursor:pointer;font-weight:700}
  .btn-edit{background:linear-gradient(180deg,var(--orange),var(--deep-orange));padding:8px 14px;border-radius:10px;color:white;border:0;cursor:pointer;font-weight:700}
  /* small */
  .small{font-size:13px;color:#5a7a9e}
  /* modal */
  .modal-backdrop{position:fixed;inset:0;background:rgba(9,19,34,.45);display:none;align-items:center;justify-content:center;padding:20px;z-index:50}
  .modal{background:white;border-radius:12px;padding:18px;max-width:560px;width:100%;box-shadow:0 12px 40px rgba(0,0,0,.25)}
  .modal h3{margin:0 0 12px}
  .form-row{display:flex;gap:8px;margin-bottom:10px}
  .form-row input,.form-row select{flex:1;padding:10px;border-radius:8px;border:1px solid var(--card-border);outline:none}
  .modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
  .btn-cancel{background:#f1f3f6;padding:10px 14px;border-radius:8px;border:0;cursor:pointer}
  .btn-save{background:var(--btn-blue);color:white;padding:10px 14px;border-radius:8px;border:0;cursor:pointer}
  /* responsive */
  @media (max-width:900px){
    .container{flex-direction:column;padding:18px}
    .sidebar{width:100%;order:2;display:flex;gap:12px}
    .main{order:1}
    .list-header,.row{grid-template-columns:60px 1fr 1fr 1fr 100px 100px}
}
</style>
</head>
<body>

<header class="header">
<div class="logo">
    <!-- placeholder logo -->
    <img src="logo-politeknik batam.png"alt="Logo Polibatam" class="nav-logo" />
<div class="brand">
    <h1>Sistem Informasi Pengumuman</h1>
    <p>Akademik <span style="color:var(--orange)">Online</span></p>
</div>
<div class="admin-title">Admin Dashboard</div>
</header>

<div class="container">
  <aside class="sidebar">
    <button class="btn add" id="btnAdd">Add</button>
    <button class="btn list">List User</button>
  </aside>

  <main class="main">
    <div class="searchbar">
      <div class="searchbox">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#ff7a00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <input id="searchInput" placeholder="Search User" />
      </div>
      <div class="filter" title="Filter">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 5h18M6 12h12M10 19h4" stroke="#0b2b57" stroke-width="2" stroke-linecap="round"/></svg>
      </div>
    </div>

  </style>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

<div class="search-container">
  <div class="search-icon">
    <i class="fas fa-search"></i>
  </div>
  <input type="text" class="search-input" placeholder="Search User">
  <div class="filter-icon">
    <i class="fas fa-filter"></i><i class="fas fa-caret-down"></i>
  </div>
</div>

    <div class="list-header">
      <div class="small">Photo</div>
      <div class="small">Name</div>
      <div class="small">ID Number</div>
      <div class="small">Email</div>
      <div class="small">User</div>
      <div class="small">Actions</div>
    </div>

    <div class="rows" id="rows"></div>
  </main>
</div>

<!-- Modal -->
<div class="modal-backdrop" id="modalBackdrop">
  <div class="modal" role="dialog" aria-modal="true">
    <h3 id="modalTitle">Edit User</h3>
    <div style="display:flex;gap:8px;align-items:center;margin-bottom:12px">
      <div class="avatar" id="modalAvatar">U</div>
      <div style="flex:1">
        <div style="display:flex;gap:8px">
          <input type="text" id="nameInput" placeholder="Full name" />
          <input type="text" id="idInput" placeholder="ID Number" />
        </div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <input type="email" id="emailInput" placeholder="Email address" />
          <select id="roleInput">
            <option value="User">User</option>
            <option value="Admin">Admin</option>
            <option value="Editor">Editor</option>
          </select>
        </div>
      </div>
    </div>

    <div class="modal-actions">
      <button class="btn-cancel" id="btnCancel">Cancel</button>
      <button class="btn-save" id="btnSave">Save</button>
    </div>
  </div>
</div>

<script>
/*
  Simple local data-driven list with:
  - search filter
  - edit modal (add & update)
  - remove with confirm
  - initial sample data
*/

const rowsEl = document.getElementById('rows');
const searchInput = document.getElementById('searchInput');
const modalBackdrop = document.getElementById('modalBackdrop');
const modalTitle = document.getElementById('modalTitle');
const nameInput = document.getElementById('nameInput');
const idInput = document.getElementById('idInput');
const emailInput = document.getElementById('emailInput');
const roleInput = document.getElementById('roleInput');
const modalAvatar = document.getElementById('modalAvatar');
const btnSave = document.getElementById('btnSave');
const btnCancel = document.getElementById('btnCancel');
const btnAdd = document.getElementById('btnAdd');

let editingId = null;

let users = [
  {id: genId(), name:"Ahmad Faisal", idNumber:"20210101", email:"ahmad@example.com", role:"User"},
  {id: genId(), name:"Siti Nurhaliza", idNumber:"20210102", email:"siti@example.com", role:"Editor"},
  {id: genId(), name:"Budi Santoso", idNumber:"20210103", email:"budi@example.com", role:"Admin"},
  {id: genId(), name:"Rina Marlina", idNumber:"20210104", email:"rina@example.com", role:"User"},
  {id: genId(), name:"Agus Prasetyo", idNumber:"20210105", email:"agus@example.com", role:"User"},
  {id: genId(), name:"Dewi Lestari", idNumber:"20210106", email:"dewi@example.com", role:"Editor"},
];

function genId(){ return 'u_' + Math.random().toString(36).slice(2,9); }

function renderRows(filter=''){
  rowsEl.innerHTML = '';
  const q = filter.trim().toLowerCase();
  const list = users.filter(u => {
    if(!q) return true;
    return [u.name,u.idNumber,u.email,u.role].join(' ').toLowerCase().includes(q);
  });

  if(list.length===0){
    const empty = document.createElement('div');
    empty.className = 'row';
    empty.style.justifyContent='center';
    empty.textContent = 'No users found.';
    rowsEl.appendChild(empty);
    return;
  }

  for(const u of list){
    const r = document.createElement('div');
    r.className = 'row';
    r.dataset.id = u.id;

    const av = document.createElement('div');
    av.className = 'avatar';
    av.textContent = initials(u.name);

    const name = document.createElement('div');
    name.className = 'name'; name.textContent = u.name;

    const idnum = document.createElement('div');
    idnum.className = 'idnum'; idnum.textContent = u.idNumber;

    const email = document.createElement('div');
    email.className = 'email'; email.textContent = u.email;

    const role = document.createElement('div');
    role.className = 'role'; role.textContent = u.role;

    const actions = document.createElement('div');
    actions.style.display='flex'; actions.style.gap='8px'; actions.style.justifyContent='flex-end';

    const btnRemove = document.createElement('button');
    btnRemove.className='btn-remove';
    btnRemove.textContent='Remove';
    btnRemove.onclick = ()=> removeUser(u.id);

    const btnEdit = document.createElement('button');
    btnEdit.className='btn-edit';
    btnEdit.textContent='Edit';
    btnEdit.onclick = ()=> openEditModal(u.id);

    actions.appendChild(btnRemove);
    actions.appendChild(btnEdit);

    r.appendChild(av);
    r.appendChild(name);
    r.appendChild(idnum);
    r.appendChild(email);
    r.appendChild(role);
    r.appendChild(actions);

    rowsEl.appendChild(r);
  }
}

function initials(name){
  return name.split(' ').slice(0,2).map(x=>x[0] ? x[0].toUpperCase() : '').join('');
}

function openEditModal(id){
  editingId = id;
  const u = users.find(x=>x.id===id);
  if(!u) return;
  modalTitle.textContent = 'Edit User';
  nameInput.value = u.name;
  idInput.value = u.idNumber;
  emailInput.value = u.email;
  roleInput.value = u.role;
  modalAvatar.textContent = initials(u.name);
  showModal();
}

function openAddModal(){
  editingId = null;
  modalTitle.textContent = 'Add User';
  nameInput.value = '';
  idInput.value = '';
  emailInput.value = '';
  roleInput.value = 'User';
  modalAvatar.textContent = 'U';
  showModal();
}

function showModal(){
  modalBackdrop.style.display = 'flex';
  nameInput.focus();
}

function hideModal(){
  modalBackdrop.style.display = 'none';
}

btnAdd.addEventListener('click', openAddModal);
btnCancel.addEventListener('click', hideModal);
modalBackdrop.addEventListener('click', (e)=>{
  if(e.target===modalBackdrop) hideModal();
});

btnSave.addEventListener('click', ()=>{
  const name = nameInput.value.trim();
  const idNumber = idInput.value.trim();
  const email = emailInput.value.trim();
  const role = roleInput.value;

  if(!name || !idNumber || !email){
    alert('Isi semua field (Name, ID Number, Email).');
    return;
  }

  if(editingId){
    // update
    const u = users.find(x=>x.id===editingId);
    if(u){
    u.name = name; u.idNumber = idNumber; u.email = email; u.role = role;
    }
} else {
    // add
    users.unshift({id: genId(), name, idNumber, email, role});
}
renderRows(searchInput.value);
hideModal();
});

// remove with confirmation
function removeUser(id){
const u = users.find(x=>x.id===id);
    if(!u) return;
const confirmDel = confirm(`Hapus user "${u.name}"?`);
    if(!confirmDel) return;
users = users.filter(x=>x.id!==id);
renderRows(searchInput.value);
}

// search filter
searchInput.addEventListener('input', ()=> renderRows(searchInput.value));

// initial render
renderRows();

/* keyboard: Enter on search focuses first result (UX nicety) */
searchInput.addEventListener('keydown', (e)=>{
    if(e.key==='Enter'){
    const first = rowsEl.querySelector('.row');
    if(first) first.scrollIntoView({behavior:'smooth',block:'center'});
}
});

</script>
</body>
</html>
